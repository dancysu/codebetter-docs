# Cargo
Cargo 是 Rust 的构建工具和包管理器,提供了一整套用于创建、构建、运行和管理 Rust 项目的工具,它会在安装 rust 时自动安装。
以下是使用 Cargo 的基本步骤和命令：
**检查 Cargo 是否安装**
可以通过以下命令检查 Cargo 的版本：
```bash
cargo --version
```
如果 Cargo 已正确安装,您将看到 Cargo 的版本信息。
----
**使用 cargo 创建新项目**
使用 Cargo 创建一个新的 Rust 项目。
```bash
cargo new 项目名称
```
```bash
.
├─ src # 源代码都应该放在 src 目录下
│  └─ main.rs # cargo 生成的 main.rs 在 src 目录下
├─ .gitignore # 初始化了一个新的 git 仓库,
└─ Cargo.toml # 在项目顶层目录下
```
**cargo.toml**
TOML（Toms Obvious,Minimal Language）格式,是 Cargo 的配置格式
```toml
[package]
name = "hello-rust"
version = "0.1.0"
edition = "2021"
[dependencies]
```
- `[package]` 是一个区域标题,表示下方内容是用来来配置包（package）的
  - `name`：项目名
  - `version`：项目版本
  - `edition`：使用的 rust 版本
- `[dependencies]` 是另一个区域的开始,它会列出项目的依赖项
----
**构建项目**
为开发构建
在项目目录中,使用以下命令构建项目：
```bash
cargo build
```
该命令会编译项目并生成可执行文件,默认输出到 `target/debug` 目录。
运行可执行文件
```bash
./target/debug/项目名
```
第一次运行 `cargo build` 会在顶层生成 `Cargo.lock` 文件,该文件负责追踪项目依赖的精确版本,不需要手动修改改文件,也不要手动修改改文件。
**为发布构建**
编译时会进行优化
- 代码会运行的更快,但是编译时间更长
- 会在 `target/release` 而不是 `target/debug` 生成可执行文件
```bash
cargo build --release
```
----
**构建并且运行项目**
该命令会自动构建并运行项目的可执行文件,是两步操作：编译代码+执行结果
如果之前编译成功过,并且源码没有改变,那么就会直接运行二进制文件
```bash
cargo run
```
----
**检查代码**
检查代码,确保能通过编译,但是不产生任何执行文件
用处：`cargo check` 比 `cargo build` 快得多,所以在编写代码的时候可以连续反复的使用 `cargo check` 检查代码,提高效率。
```bash
cargo check
```
----
**测试项目**
Cargo 提供了内置的测试功能,您可以使用以下命令运行项目中的测试：
```bash
cargo test
```
该命令会执行项目中的所有测试用例。
----
**为项目构建文档**
Cargo 可以为项目生成文档,帮助开发者理解项目的结构和功能：
```bash
cargo doc
```
生成的文档默认会输出到 `target/doc` 目录,可以通过浏览器查看。
-----
**将库发布到 crates.io**
如果您开发了一个可以共享的库,可以将其发布到 [crates.io](https://crates.io/) ：
```bash
cargo publish
```
在发布之前,请确保您已在 [crates.io](http://crates.io/)  注册并配置了必要的账户信息。